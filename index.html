<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é£²æ–™ç´€éŒ„è¡¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto+Sans+TC', sans-serif;
            background-color: #fffaf0; /* æº«æš–çš„ä¹³ç™½è‰²èƒŒæ™¯ */
        }
        .option-btn {
            border-color: #fed7aa; /* orange-200 */
            color: #9a3412; /* orange-900 */
        }
        .option-btn:hover {
            background-color: #fff7ed; /* orange-50 */
        }
        .option-btn.active {
            background-color: #f97316; /* orange-500 */
            color: white;
            border-color: #f97316;
            box-shadow: 0 4px 6px -1px rgba(249, 115, 22, 0.2);
        }
    </style>
</head>
<body class="p-4 md:p-8 text-stone-800">
    <div class="max-w-2xl mx-auto">
        <!-- è¡¨å–®å¡ç‰‡ -->
        <div class="bg-white rounded-3xl shadow-xl shadow-orange-100/50 p-6 md:p-8 mb-8 border border-orange-50">
            <div class="flex items-center mb-8">
                <!-- æ›´æ–°å¾Œçš„é£²æ–™æ¯åœ–ç¤º -->
                <div class="bg-orange-100 p-3 rounded-2xl mr-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-orange-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <!-- å¸ç®¡ -->
                        <path d="M17 2l-2 3" />
                        <!-- æ¯è“‹ -->
                        <path d="M7 5h10a2 2 0 0 1 2 2v1H5V7a2 2 0 0 1 2-2z" />
                        <!-- æ¯èº« -->
                        <path d="M6 8l1.5 12a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2L18 8" />
                        <!-- çç é¡†ç²’ -->
                        <circle cx="10" cy="15" r="0.5" fill="currentColor" />
                        <circle cx="14" cy="16" r="0.5" fill="currentColor" />
                        <circle cx="12" cy="18" r="0.5" fill="currentColor" />
                    </svg>
                </div>
                <div>
                    <h1 class="text-2xl font-black text-orange-900 tracking-wider">é£²æ–™ç´€éŒ„è¡¨</h1>
                    <p class="text-orange-600/70 text-sm mt-1">ç´€éŒ„æ¯ä¸€å£å°ˆå±¬æ–¼ä½ çš„ç”œèœœæ™‚å…‰</p>
                </div>
            </div>

            <form id="drinkForm" class="space-y-6">
                <!-- æ—¥æœŸ -->
                <div>
                    <label class="block text-sm font-bold text-orange-900 mb-2 ml-1">äº«ç”¨æ—¥æœŸ</label>
                    <input type="date" id="date" class="w-full px-4 py-3 bg-orange-50/30 border border-orange-100 rounded-xl focus:ring-4 focus:ring-orange-200 focus:border-orange-400 outline-none transition" required>
                </div>

                <!-- åº—å®¶èˆ‡å“é … -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-bold text-orange-900 mb-2 ml-1">è³¼è²·åº—å®¶</label>
                        <input type="text" id="store" placeholder="ä¾‹å¦‚ï¼šå¯ä¸å¯ç†Ÿæˆç´…èŒ¶" class="w-full px-4 py-3 bg-orange-50/30 border border-orange-100 rounded-xl focus:ring-4 focus:ring-orange-200 focus:border-orange-400 outline-none transition" required>
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-orange-900 mb-2 ml-1">é£²æ–™å“é …</label>
                        <input type="text" id="item" placeholder="ä¾‹å¦‚ï¼šèƒ­è„‚ç´…èŒ¶" class="w-full px-4 py-3 bg-orange-50/30 border border-orange-100 rounded-xl focus:ring-4 focus:ring-orange-200 focus:border-orange-400 outline-none transition" required>
                    </div>
                </div>

                <!-- å†°å¡Šé¸æ“‡ -->
                <div>
                    <label class="block text-sm font-bold text-orange-900 mb-3 ml-1">å†°å¡Šé‡</label>
                    <div class="flex flex-wrap gap-2.5" id="iceOptions">
                        <button type="button" data-value="æº«" class="option-btn px-5 py-2.5 border rounded-2xl text-sm font-medium transition-all duration-200">æº«</button>
                        <button type="button" data-value="å»å†°" class="option-btn px-5 py-2.5 border rounded-2xl text-sm font-medium transition-all duration-200">å»å†°</button>
                        <button type="button" data-value="å¾®å†°" class="option-btn px-5 py-2.5 border rounded-2xl text-sm font-medium transition-all duration-200">å¾®å†°</button>
                        <button type="button" data-value="å°‘å†°" class="option-btn px-5 py-2.5 border rounded-2xl text-sm font-medium transition-all duration-200">å°‘å†°</button>
                        <button type="button" data-value="æ­£å¸¸" class="option-btn px-5 py-2.5 border rounded-2xl text-sm font-medium transition-all duration-200">æ­£å¸¸</button>
                    </div>
                    <input type="hidden" id="iceValue" required>
                </div>

                <!-- ç”œåº¦é¸æ“‡ -->
                <div>
                    <label class="block text-sm font-bold text-orange-900 mb-3 ml-1">ç”œåº¦</label>
                    <div class="flex flex-wrap gap-2.5" id="sugarOptions">
                        <button type="button" data-value="ç„¡ç³–" class="option-btn px-5 py-2.5 border rounded-2xl text-sm font-medium transition-all duration-200">ç„¡ç³–</button>
                        <button type="button" data-value="ä¸€åˆ†ç³–" class="option-btn px-5 py-2.5 border rounded-2xl text-sm font-medium transition-all duration-200">ä¸€åˆ†ç³–</button>
                        <button type="button" data-value="å…©åˆ†ç³–" class="option-btn px-5 py-2.5 border rounded-2xl text-sm font-medium transition-all duration-200">å…©åˆ†ç³–</button>
                        <button type="button" data-value="å¾®ç³–" class="option-btn px-5 py-2.5 border rounded-2xl text-sm font-medium transition-all duration-200">å¾®ç³–</button>
                        <button type="button" data-value="åŠç³–" class="option-btn px-5 py-2.5 border rounded-2xl text-sm font-medium transition-all duration-200">åŠç³–</button>
                        <button type="button" data-value="å°‘ç³–" class="option-btn px-5 py-2.5 border rounded-2xl text-sm font-medium transition-all duration-200">å°‘ç³–</button>
                        <button type="button" data-value="æ­£å¸¸" class="option-btn px-5 py-2.5 border rounded-2xl text-sm font-medium transition-all duration-200">æ­£å¸¸</button>
                    </div>
                    <input type="hidden" id="sugarValue" required>
                </div>

                <!-- å‚™è¨» -->
                <div>
                    <label class="block text-sm font-bold text-orange-900 mb-2 ml-1">å°ç­†è¨˜ (å‚™è¨»)</label>
                    <textarea id="note" rows="2" placeholder="å¯«ä¸‹å¥½å–çš„ç§˜å¯†ï¼Œä¾‹å¦‚ï¼šçç å¾ˆQ..." class="w-full px-4 py-3 bg-orange-50/30 border border-orange-100 rounded-xl focus:ring-4 focus:ring-orange-200 focus:border-orange-400 outline-none transition"></textarea>
                </div>

                <button type="submit" class="w-full bg-orange-500 text-white font-bold py-4 rounded-2xl hover:bg-orange-600 active:scale-[0.98] transition-all shadow-lg shadow-orange-200">
                    æ”¶è—é€™æ¯ç´€éŒ„
                </button>
            </form>
        </div>

        <!-- æç¤ºè¨Šæ¯ -->
        <div id="messageBox" class="hidden mb-6 p-4 rounded-2xl text-center font-bold"></div>

        <!-- ç´€éŒ„åˆ—è¡¨ -->
        <div class="bg-white rounded-3xl shadow-xl shadow-orange-100/50 p-6 md:p-8 border border-orange-50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-black text-orange-900">æœ€è¿‘å–éä»€éº¼ï¼Ÿ</h2>
                <span id="recordCount" class="text-xs font-bold bg-orange-100 text-orange-600 px-3 py-1 rounded-full">0 ç­†ç´€éŒ„</span>
            </div>
            <div id="recordList" class="space-y-4">
                <div class="text-center py-10">
                    <div class="text-orange-200 mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                        </svg>
                    </div>
                    <p class="text-stone-400">ç›®å‰é‚„æ²’æœ‰ç´€éŒ„å–”ï¼Œå¿«å»è²·ä¸€æ¯å§ï¼</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // è¨­å®šä»Šå¤©æ—¥æœŸ
        document.getElementById('date').valueAsDate = new Date();

        // è™•ç†é¸æ“‡æŒ‰éˆ•
        function setupOptions(containerId, hiddenInputId) {
            const container = document.getElementById(containerId);
            const hiddenInput = document.getElementById(hiddenInputId);
            const buttons = container.querySelectorAll('button');

            buttons.forEach(btn => {
                btn.addEventListener('click', () => {
                    buttons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    hiddenInput.value = btn.getAttribute('data-value');
                });
            });
        }

        setupOptions('iceOptions', 'iceValue');
        setupOptions('sugarOptions', 'sugarValue');

        // è¨Šæ¯æç¤ºåŠŸèƒ½
        function showMessage(msg, type = 'success') {
            const box = document.getElementById('messageBox');
            box.textContent = msg;
            box.className = `p-4 rounded-2xl text-center font-bold mb-6 transition-all ${type === 'success' ? 'bg-green-50 text-green-700 border border-green-100' : 'bg-red-50 text-red-700 border border-red-100'}`;
            box.classList.remove('hidden');
            setTimeout(() => box.classList.add('hidden'), 3000);
        }

        // è¡¨å–®æäº¤
        const drinkForm = document.getElementById('drinkForm');
        const recordList = document.getElementById('recordList');
        const recordCountText = document.getElementById('recordCount');
        const records = [];

        drinkForm.addEventListener('submit', (e) => {
            e.preventDefault();

            const date = document.getElementById('date').value;
            const store = document.getElementById('store').value;
            const item = document.getElementById('item').value;
            const ice = document.getElementById('iceValue').value;
            const sugar = document.getElementById('sugarValue').value;
            const note = document.getElementById('note').value;

            if (!ice || !sugar) {
                showMessage('åˆ¥å¿˜äº†é¸æ“‡å†°å¡Šèˆ‡ç”œåº¦å–”ï¼', 'error');
                return;
            }

            const record = { date, store, item, ice, sugar, note, id: Date.now() };
            records.unshift(record);
            updateRecordList();

            // é‡ç½®éƒ¨åˆ†è¡¨å–®
            document.getElementById('store').value = '';
            document.getElementById('item').value = '';
            document.getElementById('note').value = '';
            document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('iceValue').value = '';
            document.getElementById('sugarValue').value = '';
            
            showMessage('æˆåŠŸç´€éŒ„ä¸€æ¯ç¾å‘³ï¼âœ¨');
        });

        function updateRecordList() {
            recordCountText.textContent = `${records.length} ç­†ç´€éŒ„`;
            
            if (records.length === 0) {
                recordList.innerHTML = `
                    <div class="text-center py-10">
                        <div class="text-orange-200 mb-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                            </svg>
                        </div>
                        <p class="text-stone-400">ç›®å‰é‚„æ²’æœ‰ç´€éŒ„å–”ï¼Œå¿«å»è²·ä¸€æ¯å§ï¼</p>
                    </div>`;
                return;
            }

            recordList.innerHTML = records.map(r => `
                <div class="group border border-orange-100 bg-orange-50/20 p-5 rounded-2xl transition-all hover:bg-white hover:shadow-md">
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-[10px] font-black tracking-tighter text-orange-400 bg-white border border-orange-100 px-2 py-0.5 rounded-full uppercase">${r.date}</span>
                        <span class="text-sm font-bold text-stone-500">${r.store}</span>
                    </div>
                    <div class="text-lg font-black text-stone-800 mb-3">${r.item}</div>
                    <div class="flex gap-2 text-xs">
                        <span class="bg-orange-100 text-orange-700 font-bold px-3 py-1 rounded-full">â„ï¸ ${r.ice}</span>
                        <span class="bg-amber-100 text-amber-700 font-bold px-3 py-1 rounded-full">ğŸ¯ ${r.sugar}</span>
                    </div>
                    ${r.note ? `
                        <div class="mt-4 pt-3 border-t border-orange-100/50 text-sm text-stone-500 flex items-start">
                            <span class="mr-1 text-orange-300">#</span>
                            <span class="italic leading-relaxed">${r.note}</span>
                        </div>` : ''}
                </div>
            `).join('');
        }
    </script>
</body>
</html>